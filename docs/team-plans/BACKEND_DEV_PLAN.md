# âš™ï¸ åç«¯å¼€å‘ - 30å¤©å·¥ä½œè®¡åˆ’

## è§’è‰²å®šä½
ä½œä¸ºåç«¯å¼€å‘ï¼Œæˆ‘æ˜¯ç³»ç»Ÿçš„"å¿ƒè„"ï¼Œè´Ÿè´£æ„å»ºç¨³å®šã€å®‰å…¨ã€å¯æ‰©å±•çš„æœåŠ¡ç«¯æ¶æ„ï¼Œæ”¯æ’‘äº§å“çš„æ‰€æœ‰ä¸šåŠ¡é€»è¾‘ã€‚

## æ ¸å¿ƒèŒè´£
- APIè®¾è®¡ä¸å¼€å‘
- æ•°æ®åº“è®¾è®¡ä¸ä¼˜åŒ–
- ç”¨æˆ·è®¤è¯ä¸æˆæƒç³»ç»Ÿ
- æ”¯ä»˜ç³»ç»Ÿé›†æˆ
- ç³»ç»Ÿæ€§èƒ½ä¸å®‰å…¨

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

```
Runtime: Node.js / Bun
Framework: Hono / Express
Database: PostgreSQL + Redis
ORM: Drizzle / Prisma
Auth: Lucia Auth / NextAuth
Payment: Stripe
Hosting: Cloudflare Workers / Railway
```

---

## ğŸ“… ç¬¬ä¸€å‘¨: æ¶æ„è®¾è®¡

### Day 1-2: æ¶æ„è§„åˆ’
| ä»»åŠ¡ | äº§å‡ºç‰© | å®Œæˆæ ‡å‡† |
|------|--------|----------|
| ç³»ç»Ÿæ¶æ„è®¾è®¡ | æ¶æ„å›¾ | å›¢é˜Ÿè¯„å®¡é€šè¿‡ |
| æŠ€æœ¯é€‰å‹ç¡®è®¤ | æŠ€æœ¯æ–‡æ¡£ | é€‰å‹ç†ç”±æ¸…æ™° |
| æ•°æ®åº“Schemaè®¾è®¡ | ERå›¾ | æ»¡è¶³ä¸šåŠ¡éœ€æ±‚ |
| APIè§„èŒƒåˆ¶å®š | OpenAPI Spec | RESTfulæ ‡å‡† |

**æ•°æ®åº“æ ¸å¿ƒè¡¨è®¾è®¡:**
```sql
-- ç”¨æˆ·è¡¨
users (
  id, email, phone, password_hash,
  name, avatar, created_at, updated_at
)

-- è®¢é˜…è¡¨
subscriptions (
  id, user_id, plan, status,
  stripe_subscription_id,
  current_period_start, current_period_end
)

-- æ”¶å¬å†å²
listening_history (
  id, user_id, book_id, 
  progress_seconds, completed,
  last_played_at
)

-- æ”¶è—è¡¨
favorites (
  id, user_id, book_id, created_at
)

-- ç¬”è®°è¡¨
notes (
  id, user_id, book_id,
  timestamp_seconds, content, created_at
)
```

### Day 3-4: åŸºç¡€è®¾æ–½æ­å»º
| ä»»åŠ¡ | äº§å‡ºç‰© | å®Œæˆæ ‡å‡† |
|------|--------|----------|
| é¡¹ç›®åˆå§‹åŒ– | åç«¯Repo | å¯è¿è¡Œ |
| æ•°æ®åº“é…ç½® | DBè¿æ¥ | å¯è¯»å†™ |
| Redisé…ç½® | ç¼“å­˜å±‚ | å¯ç”¨ |
| CI/CDé…ç½® | GitHub Actions | è‡ªåŠ¨éƒ¨ç½² |
| ç¯å¢ƒå˜é‡ç®¡ç† | .envæ¨¡æ¿ | å®‰å…¨ |

### Day 5-7: ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
| ä»»åŠ¡ | äº§å‡ºç‰© | å®Œæˆæ ‡å‡† |
|------|--------|----------|
| æ³¨å†ŒAPI | POST /auth/register | é‚®ç®±/æ‰‹æœº |
| ç™»å½•API | POST /auth/login | JWT Token |
| Tokenåˆ·æ–° | POST /auth/refresh | æ— æ„Ÿåˆ·æ–° |
| OAuthé›†æˆ | Google/Apple | ä¸€é”®ç™»å½• |
| å¯†ç é‡ç½® | é‚®ä»¶/çŸ­ä¿¡ | å®Œæ•´æµç¨‹ |

**APIè®¾è®¡è§„èŒƒ:**
```
POST   /api/v1/auth/register
POST   /api/v1/auth/login
POST   /api/v1/auth/logout
POST   /api/v1/auth/refresh
POST   /api/v1/auth/forgot-password
POST   /api/v1/auth/reset-password
GET    /api/v1/auth/me
```

**Week 1 OKR:**
- O: å®ŒæˆåŸºç¡€æ¶æ„å’Œç”¨æˆ·ç³»ç»Ÿ
- KR1: æ•°æ®åº“Schemaå®Œæˆï¼Œå¯è¿ç§»
- KR2: ç”¨æˆ·æ³¨å†Œ/ç™»å½•APIä¸Šçº¿
- KR3: CI/CDæµæ°´çº¿æ­£å¸¸è¿è¡Œ

---

## ğŸ“… ç¬¬äºŒå‘¨: æ ¸å¿ƒä¸šåŠ¡

### Day 8-10: ä¼šå‘˜ä¸æ”¯ä»˜
| ä»»åŠ¡ | äº§å‡ºç‰© | å®Œæˆæ ‡å‡† |
|------|--------|----------|
| Stripeé›†æˆ | æ”¯ä»˜æ¨¡å— | å¯æ”¶æ¬¾ |
| è®¢é˜…åˆ›å»º | POST /subscriptions | 3ä¸ªå¥—é¤ |
| è®¢é˜…ç®¡ç† | å‡çº§/é™çº§/å–æ¶ˆ | å®Œæ•´æµç¨‹ |
| Webhookå¤„ç† | äº‹ä»¶ç›‘å¬ | å¯é å¤„ç† |
| å‘ç¥¨ç”Ÿæˆ | Invoice API | PDFä¸‹è½½ |

**è®¢é˜…å¥—é¤è®¾è®¡:**
```javascript
const PLANS = {
  free: { 
    price: 0, 
    books_per_month: 3,
    features: ['short_summary'] 
  },
  pro: { 
    price: 9.99, 
    books_per_month: -1, // unlimited
    features: ['all_summaries', 'offline', 'notes'] 
  },
  team: { 
    price: 29.99, 
    seats: 5,
    features: ['all', 'team_management', 'analytics'] 
  }
}
```

### Day 11-12: å†…å®¹API
| ä»»åŠ¡ | äº§å‡ºç‰© | å®Œæˆæ ‡å‡† |
|------|--------|----------|
| ä¹¦ç±åˆ—è¡¨API | GET /books | åˆ†é¡µ+ç­›é€‰ |
| ä¹¦ç±è¯¦æƒ…API | GET /books/:id | å®Œæ•´ä¿¡æ¯ |
| åˆ†ç±»API | GET /categories | æ‰€æœ‰åˆ†ç±» |
| æœç´¢API | GET /search | å…¨æ–‡æœç´¢ |
| æ¨èAPI | GET /recommendations | ä¸ªæ€§åŒ– |

### Day 13-14: ç”¨æˆ·æ•°æ®
| ä»»åŠ¡ | äº§å‡ºç‰© | å®Œæˆæ ‡å‡† |
|------|--------|----------|
| æ”¶å¬å†å²API | CRUD | è¿›åº¦åŒæ­¥ |
| æ”¶è—API | CRUD | æ”¶è—ç®¡ç† |
| æ’­æ”¾è¿›åº¦åŒæ­¥ | PUT /progress | å®æ—¶åŒæ­¥ |
| ç¬¬äºŒå‘¨å¤ç›˜ | å‘¨æŠ¥ | æ ¸å¿ƒAPIå®Œæˆ |

**Week 2 OKR:**
- O: å®Œæˆæ ¸å¿ƒä¸šåŠ¡API
- KR1: æ”¯ä»˜æµç¨‹æµ‹è¯•é€šè¿‡
- KR2: ä¹¦ç±APIå“åº”æ—¶é—´<100ms
- KR3: è¿›åº¦åŒæ­¥å‡†ç¡®ç‡100%

---

## ğŸ“… ç¬¬ä¸‰å‘¨: åŠŸèƒ½å®Œå–„

### Day 15-17: ç¤¾äº¤åŠŸèƒ½
| ä»»åŠ¡ | äº§å‡ºç‰© | å®Œæˆæ ‡å‡† |
|------|--------|----------|
| è¯„è®ºAPI | CRUD | æ”¯æŒå›å¤ |
| ç¬”è®°API | CRUD | æ—¶é—´æˆ³æ ‡è®° |
| ç‚¹èµAPI | POST /like | é˜²é‡å¤ |
| åˆ†äº«ç»Ÿè®¡ | Analytics | å¯è¿½è¸ª |

### Day 18-19: æ€§èƒ½ä¼˜åŒ–
| ä»»åŠ¡ | äº§å‡ºç‰© | å®Œæˆæ ‡å‡† |
|------|--------|----------|
| æ•°æ®åº“ç´¢å¼•ä¼˜åŒ– | ç´¢å¼•ç­–ç•¥ | æŸ¥è¯¢<50ms |
| Redisç¼“å­˜ç­–ç•¥ | ç¼“å­˜å±‚ | å‘½ä¸­ç‡>80% |
| APIé™æµ | Rate Limiting | é˜²æ»¥ç”¨ |
| æ•°æ®åº“è¿æ¥æ±  | Poolé…ç½® | é«˜å¹¶å‘æ”¯æŒ |

### Day 20-21: å®‰å…¨åŠ å›º
| ä»»åŠ¡ | äº§å‡ºç‰© | å®Œæˆæ ‡å‡† |
|------|--------|----------|
| SQLæ³¨å…¥é˜²æŠ¤ | å®‰å…¨å®¡è®¡ | æ— æ¼æ´ |
| XSSé˜²æŠ¤ | è¾“å…¥è¿‡æ»¤ | æ— æ¼æ´ |
| CSRFé˜²æŠ¤ | TokenéªŒè¯ | å®Œæ•´ |
| æ•æ„Ÿæ•°æ®åŠ å¯† | åŠ å¯†ç­–ç•¥ | AES-256 |
| ç¬¬ä¸‰å‘¨å¤ç›˜ | å‘¨æŠ¥ | å®‰å…¨è¾¾æ ‡ |

**Week 3 OKR:**
- O: ç³»ç»Ÿå®‰å…¨ç¨³å®š
- KR1: å®‰å…¨æ‰«ææ— é«˜å±æ¼æ´
- KR2: APIå¹³å‡å“åº”æ—¶é—´<100ms
- KR3: ç¼“å­˜å‘½ä¸­ç‡>80%

---

## ğŸ“… ç¬¬å››å‘¨: ä¸Šçº¿è¿ç»´

### Day 22-23: å‹åŠ›æµ‹è¯•
| ä»»åŠ¡ | äº§å‡ºç‰© | å®Œæˆæ ‡å‡† |
|------|--------|----------|
| å‹æµ‹æ–¹æ¡ˆ | æµ‹è¯•è®¡åˆ’ | åœºæ™¯è¦†ç›– |
| æ‰§è¡Œå‹æµ‹ | å‹æµ‹æŠ¥å‘Š | 1000 QPS |
| æ€§èƒ½è°ƒä¼˜ | ä¼˜åŒ–æŠ¥å‘Š | è¾¾æ ‡ |
| å®¹é‡è§„åˆ’ | æ‰©å®¹æ–¹æ¡ˆ | å¯å¼¹æ€§ |

### Day 24-25: ä¸Šçº¿éƒ¨ç½²
| ä»»åŠ¡ | äº§å‡ºç‰© | å®Œæˆæ ‡å‡† |
|------|--------|----------|
| ç”Ÿäº§ç¯å¢ƒéƒ¨ç½² | ç”Ÿäº§æœåŠ¡ | ç¨³å®šè¿è¡Œ |
| ç›‘æ§å‘Šè­¦é…ç½® | Grafana/Alert | å®æ—¶ç›‘æ§ |
| æ—¥å¿—æ”¶é›† | ELK/Loki | å¯è¿½æº¯ |
| å¤‡ä»½ç­–ç•¥ | è‡ªåŠ¨å¤‡ä»½ | æ¯æ—¥å¤‡ä»½ |

### Day 26-28: è¿ç»´ä¿éšœ
| ä»»åŠ¡ | äº§å‡ºç‰© | å®Œæˆæ ‡å‡† |
|------|--------|----------|
| å€¼ç­å“åº” | å€¼ç­è¡¨ | 7x24è¦†ç›– |
| ç´§æ€¥é—®é¢˜ä¿®å¤ | çƒ­ä¿®å¤ | <1hå“åº” |
| æ•°æ®ç›‘æ§ | æ•°æ®æŠ¥å‘Š | æ—¥æŠ¥ |

### Day 29-30: å¤ç›˜è§„åˆ’
| ä»»åŠ¡ | äº§å‡ºç‰© | å®Œæˆæ ‡å‡† |
|------|--------|----------|
| æŠ€æœ¯å¤ç›˜ | å¤ç›˜æ–‡æ¡£ | ç»éªŒæ²‰æ·€ |
| æ¶æ„ä¼˜åŒ–è§„åˆ’ | ä¼˜åŒ–æ–¹æ¡ˆ | Q2æ‰§è¡Œ |
| APIæ–‡æ¡£å®Œå–„ | Swagger | 100%è¦†ç›– |

**Week 4 OKR:**
- O: ç¨³å®šä¸Šçº¿ï¼Œå¯é è¿ç»´
- KR1: ç³»ç»Ÿå¯ç”¨æ€§>99.9%
- KR2: P0äº‹æ•…0èµ·
- KR3: APIæ–‡æ¡£100%å®Œæ•´

---

## ğŸ“Š æˆ‘çš„KPI

| æŒ‡æ ‡ | ç›®æ ‡ | æƒé‡ |
|------|------|------|
| APIæŒ‰æ—¶äº¤ä»˜ç‡ | >95% | 25% |
| ç³»ç»Ÿå¯ç”¨æ€§ | >99.9% | 25% |
| APIå“åº”æ—¶é—´ | <100ms | 15% |
| å®‰å…¨æ¼æ´æ•° | 0é«˜å± | 15% |
| ä»£ç Reviewé€šè¿‡ç‡ | >85% | 10% |
| æ–‡æ¡£å®Œæ•´åº¦ | 100% | 10% |

---

## ğŸ“‹ APIæ¸…å•

```yaml
# Auth
POST   /api/v1/auth/register
POST   /api/v1/auth/login
POST   /api/v1/auth/logout
POST   /api/v1/auth/refresh
GET    /api/v1/auth/me

# Books
GET    /api/v1/books
GET    /api/v1/books/:id
GET    /api/v1/books/:id/audio
GET    /api/v1/categories
GET    /api/v1/search

# User Data
GET    /api/v1/user/history
POST   /api/v1/user/history
GET    /api/v1/user/favorites
POST   /api/v1/user/favorites
DELETE /api/v1/user/favorites/:id
PUT    /api/v1/user/progress/:bookId

# Subscription
GET    /api/v1/subscription
POST   /api/v1/subscription
PUT    /api/v1/subscription
DELETE /api/v1/subscription

# Social
GET    /api/v1/books/:id/comments
POST   /api/v1/books/:id/comments
GET    /api/v1/user/notes
POST   /api/v1/user/notes
```

---

*ç­¾å: ________________*
*æ—¥æœŸ: 2026-01-28*
